{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios'\n\nconst API_KEY = '36979931-b9ebd2c49fac6caefdf5e0dc3'\nconst BASE_URL = 'https://pixabay.com/api/'\n\nconst searchImages = async searchTerm => {\n\tconst requestParams = {\n\t\tkey: API_KEY,\n\t\tq: searchTerm,\n\t\timage_type: 'photo',\n\t\torientation: 'horizontal',\n\t\tsafesearch: true,\n\t}\n\n\ttry {\n\t\tconst response = await axios.get(BASE_URL, { params: requestParams })\n\t\treturn response.data\n\t} catch (error) {\n\t\tthrow new Error('Failed to fetch images')\n\t}\n}\n\nexport default searchImages\n","import SimpleLightbox from 'simplelightbox'\nimport 'simplelightbox/dist/simple-lightbox.min.css'\n\nconst galleryContainer = document.querySelector('.gallery')\nconst loadingSpinner = document.querySelector('.loader')\n\nconst lightboxInstance = new SimpleLightbox('.gallery a', {\n\tcaptionsData: 'alt',\n\tcaptionPosition: 'bottom',\n\tcaptionDelay: 250,\n})\n\nconst generateImageCard = ({\n\twebformatURL,\n\tlargeImageURL,\n\ttags,\n\tlikes,\n\tviews,\n\tcomments,\n\tdownloads,\n}) => `\n\t<li class=\"gallery-item\">\n\t\t<a class=\"gallery-link\" href=\"${largeImageURL}\">\n\t\t\t<img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n\t\t\t<div class=\"gallery-info\">\n\t\t\t\t<p class=\"info-item\"><b>Likes</b> ${likes}</p>\n\t\t\t\t<p class=\"info-item\"><b>Views</b> ${views}</p>\n\t\t\t\t<p class=\"info-item\"><b>Comments</b> ${comments}</p>\n\t\t\t\t<p class=\"info-item\"><b>Downloads</b> ${downloads}</p>\n\t\t\t</div>\n\t\t</a>\n\t</li>\n`\n\nconst displayImages = images => {\n\tconst markup = images.map(generateImageCard).join('')\n\tgalleryContainer.innerHTML = markup\n\tlightboxInstance.refresh()\n}\n\nconst clearImages = () => {\n\tgalleryContainer.innerHTML = ''\n}\n\nconst showSpinner = () => {\n\tloadingSpinner.classList.remove('hidden')\n}\n\nconst hideSpinner = () => {\n\tloadingSpinner.classList.add('hidden')\n}\n\nexport {\n\tclearImages as clearGallery,\n\tdisplayImages as createGallery,\n\thideSpinner as hideLoader,\n\tshowSpinner as showLoader,\n}\n","import iziToast from 'izitoast'\nimport 'izitoast/dist/css/iziToast.min.css'\n\nimport searchImages from './js/pixabay-api'\nimport {\n\tclearGallery,\n\tcreateGallery,\n\thideLoader,\n\tshowLoader,\n} from './js/render-functions'\n\nconst searchForm = document.querySelector('.search-form')\n\nconst displayNotification = (message, type = 'error') => {\n\tiziToast[type]({\n\t\tmessage,\n\t\tposition: 'topRight',\n\t\tmessageSize: '16px',\n\t\tmessageLineHeight: '24px',\n\t\tmessageColor: '#fafafb',\n\t\tcloseOnClick: true,\n\t})\n}\n\nconst handleFormSubmit = async event => {\n\tevent.preventDefault()\n\n\tconst searchQuery = event.target.elements.searchQuery.value.trim()\n\n\tif (!searchQuery) {\n\t\tdisplayNotification('Please enter a search query')\n\t\treturn\n\t}\n\n\tclearGallery()\n\tshowLoader()\n\n\ttry {\n\t\tconst { hits } = await searchImages(searchQuery)\n\n\t\tif (hits.length === 0) {\n\t\t\tdisplayNotification(\n\t\t\t\t'No images found. Please try a different search term.',\n\t\t\t\t'info'\n\t\t\t)\n\t\t\treturn\n\t\t}\n\n\t\tcreateGallery(hits)\n\t} catch (error) {\n\t\tdisplayNotification('Failed to fetch images. Please try again later.')\n\t} finally {\n\t\thideLoader()\n\t\tevent.target.reset()\n\t}\n}\n\nsearchForm.addEventListener('submit', handleFormSubmit)\n"],"names":["API_KEY","BASE_URL","searchImages","searchTerm","requestParams","axios","galleryContainer","loadingSpinner","lightboxInstance","SimpleLightbox","generateImageCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","displayImages","images","markup","clearImages","showSpinner","hideSpinner","searchForm","displayNotification","message","type","iziToast","handleFormSubmit","event","searchQuery","clearGallery","showLoader","hits","createGallery","hideLoader"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEXC,EAAe,MAAMC,GAAc,CACxC,MAAMC,EAAgB,CACrB,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACZ,EAED,GAAI,CAEH,OADiB,MAAME,EAAM,IAAIJ,EAAU,CAAE,OAAQG,EAAe,GACpD,IAChB,MAAe,CACf,MAAM,IAAI,MAAM,wBAAwB,CACxC,CACF,ECjBME,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAiB,SAAS,cAAc,SAAS,EAEjDC,EAAmB,IAAIC,EAAe,aAAc,CACzD,aAAc,MACd,gBAAiB,SACjB,aAAc,GACf,CAAC,EAEKC,EAAoB,CAAC,CAC1B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IAAM;AAAA;AAAA,kCAE4BL,CAAa;AAAA,qCACVD,CAAY,UAAUE,CAAI;AAAA;AAAA,wCAEvBC,CAAK;AAAA,wCACLC,CAAK;AAAA,2CACFC,CAAQ;AAAA,4CACPC,CAAS;AAAA;AAAA;AAAA;AAAA,EAM/CC,EAAgBC,GAAU,CAC/B,MAAMC,EAASD,EAAO,IAAIT,CAAiB,EAAE,KAAK,EAAE,EACpDJ,EAAiB,UAAYc,EAC7BZ,EAAiB,QAAS,CAC3B,EAEMa,EAAc,IAAM,CACzBf,EAAiB,UAAY,EAC9B,EAEMgB,EAAc,IAAM,CACzBf,EAAe,UAAU,OAAO,QAAQ,CACzC,EAEMgB,EAAc,IAAM,CACzBhB,EAAe,UAAU,IAAI,QAAQ,CACtC,ECvCMiB,EAAa,SAAS,cAAc,cAAc,EAElDC,EAAsB,CAACC,EAASC,EAAO,UAAY,CACxDC,EAASD,CAAI,EAAE,CACd,QAAAD,EACA,SAAU,WACV,YAAa,OACb,kBAAmB,OACnB,aAAc,UACd,aAAc,EAChB,CAAE,CACF,EAEMG,EAAmB,MAAMC,GAAS,CACvCA,EAAM,eAAgB,EAEtB,MAAMC,EAAcD,EAAM,OAAO,SAAS,YAAY,MAAM,KAAM,EAElE,GAAI,CAACC,EAAa,CACjBN,EAAoB,6BAA6B,EACjD,MACA,CAEDO,EAAc,EACdC,EAAY,EAEZ,GAAI,CACH,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMhC,EAAa6B,CAAW,EAE/C,GAAIG,EAAK,SAAW,EAAG,CACtBT,EACC,uDACA,MACA,EACD,MACA,CAEDU,EAAcD,CAAI,CAClB,MAAe,CACfT,EAAoB,iDAAiD,CACvE,QAAW,CACTW,EAAY,EACZN,EAAM,OAAO,MAAO,CACpB,CACF,EAEAN,EAAW,iBAAiB,SAAUK,CAAgB"}